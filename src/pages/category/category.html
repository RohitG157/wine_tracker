<!--
  Generated template for the CategoryPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar color="winered">
  	<button ion-button menuToggle>
      <ion-icon name="menu"></ion-icon>
    </button>
    <ion-title>Category</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>
	<form #categoryForm="ngForm" novalidate>
		<ion-grid no-lines>
			<ion-row>
				<ion-col col-8>
					<ion-item>
						<ion-label floating color="primary">Category Name</ion-label>
						<ion-input [(ngModel)]="category.name"  name="name" type="text" #name="ngModel" spellcheck="false" autocapitalize="off"
							required>
						</ion-input>
					</ion-item>
					<p ion-text [hidden]="name.valid || submitted == false" color="danger" padding-left>
						Category Name is required
					</p>
				</ion-col>
				<ion-col col-4 *ngIf="!isEdit"> 
					<button ion-button (click)="saveCategory(categoryForm)" type="submit" block style="margin-top: 30%;">Save</button>
				</ion-col>
				<ion-col col-4 *ngIf="isEdit"> 
					<button ion-button (click)="updateCategory(categoryForm)" type="submit" block style="margin-top: 30%;">Update</button>
				</ion-col>
			</ion-row>	
		</ion-grid>
	</form>
	<div padding>
		<ion-list>
			<ion-item *ngFor="let cate of categoryRef$ | async" color="primary" style="margin:1px;">
			    {{cate.name}}
			    <ion-icon name="create" item-end padding-right (click)="edit(cate)"></ion-icon> 	
			    <ion-icon name="trash" item-end (click)="delete(cate)"></ion-icon>
			</ion-item>
		</ion-list>
	</div>
</ion-content>
